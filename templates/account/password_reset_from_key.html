{% extends "account/base.html" %}
{% load i18n widget_tweaks %}

{% block content %}
  {% if token_fail %}
    <h3 class="mb-2">{% trans "Bad Token" %}</h3>
    <p class="text-muted">{% trans "The password reset link was invalid. Please request a new one." %}</p>
    <a class="btn btn-primary w-100" href="{% url 'account_reset_password' %}">{% trans "Request new link" %}</a>
  {% else %}
    <h3 class="mb-3">{% trans "Choose a new password" %}</h3>
    <form method="post" action="{{ action_url }}">
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label" for="{{ form.password1.id_for_label }}">{% trans "New password" %}</label>
        {% render_field form.password1 class="form-control" %}
        {{ form.password1.errors }}
      </div>
      <div class="mb-3">
        <label class="form-label" for="{{ form.password2.id_for_label }}">{% trans "Confirm new password" %}</label>
        {% render_field form.password2 class="form-control" %}
        {{ form.password2.errors }}
      </div>
      <button class="btn btn-primary w-100" type="submit">{% trans "Change password" %}</button>
    </form>
  {% endif %}
{% endblock %}
